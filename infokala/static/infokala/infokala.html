<!DOCTYPE html>
<html>
  <head>
    <title>Infokala</title>
    <link rel="stylesheet" href="/static/infokala/bootstrap.min.css">
    <link rel="stylesheet" href="/static/infokala/infokala.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script defer src="/static/infokala/infokala.js"></script>
  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header"><a href class="navbar-brand">Infokala</a></div>
        <div id="base-navbar-collapse" class="collapse navbar-collapse">
          <ul data-bind="foreach: messageTypeFilters" class="nav navbar-nav">
            <li data-bind="css: { active: slug == $parent.activeFilter().slug }"><a href data-bind="text: name, click: $parent.activeFilter"></a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown"><a href data-toggle="dropdown" class="dropdown-toggle"><span data-bind="text: user().displayName"></span><b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/logout">Kirjaudu ulos</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="infokala-push-top"></div>
    <div data-bind="foreach: visibleMessages" class="container">
      <div class="infokala-message">
        <div class="row"><small data-bind="text: formattedTime" class="col-md-12 text-muted"></small></div>
        <div class="row"><strong data-bind="text: author" class="col-md-1"></strong>
          <div data-bind="text: message" class="col-md-11"></div>
        </div>
      </div>
    </div>
    <div class="container">
      <form data-bind="submit: sendMessage" role="form" class="infokala-message-form">
        <div class="row">
          <div class="col-md-1 infokala-author-col">
            <input data-bind="value: author" class="form-control">
          </div>
          <div class="col-md-9 infokala-message-col">
            <input data-bind="value: message" placeholder="Viesti..." class="form-control">
          </div>
          <div class="col-md-2 infokala-message-type-col">
            <select data-bind="options: messageTypes, optionsText: &quot;name&quot;, optionsValue: &quot;slug&quot;, value: messageType" class="form-control"></select>
          </div>
        </div>
        <input type="submit" class="hidden">
      </form>
    </div>
  </body>
</html>